// Code generated by eevee. DO NOT EDIT!

package entity

import (
	"go.knocknote.io/rapidash"
	"golang.org/x/xerrors"
)

type Skill struct {
	ID          uint64 `json:"id"`
	SkillEffect string `json:"skillEffect"`
}

type Skills []*Skill

func (e Skills) IDs() []uint64 {
	values := make([]uint64, 0, len(e))
	for _, value := range e {
		values = append(values, value.ID)
	}
	return values
}

func (e Skills) SkillEffects() []string {
	values := make([]string, 0, len(e))
	for _, value := range e {
		values = append(values, value.SkillEffect)
	}
	return values
}

func (e *Skill) Struct() *rapidash.Struct {
	return rapidash.NewStruct("skills").
		FieldUint64("id").
		FieldString("skill_effect")
}

func (e *Skill) EncodeRapidash(enc rapidash.Encoder) error {
	if e.ID != 0 {
		enc.Uint64("id", e.ID)
	}
	enc.String("skill_effect", e.SkillEffect)
	if err := enc.Error(); err != nil {
		return xerrors.Errorf("failed to encode: %w", err)
	}
	return nil
}

func (e *Skills) EncodeRapidash(enc rapidash.Encoder) error {
	for _, v := range *e {
		if err := v.EncodeRapidash(enc.New()); err != nil {
			return xerrors.Errorf("failed to encode: %w", err)
		}
	}
	return nil
}

func (e *Skill) DecodeRapidash(dec rapidash.Decoder) error {
	e.ID = dec.Uint64("id")
	e.SkillEffect = dec.String("skill_effect")
	if err := dec.Error(); err != nil {
		return xerrors.Errorf("failed to decode: %w", err)
	}
	return nil
}

func (e *Skills) DecodeRapidash(dec rapidash.Decoder) error {
	decLen := dec.Len()
	values := make(Skills, decLen)
	for i := 0; i < decLen; i++ {
		var v Skill
		if err := v.DecodeRapidash(dec.At(i)); err != nil {
			return xerrors.Errorf("failed to decode: %w", err)
		}
		values[i] = &v
	}
	*e = values
	return nil
}
